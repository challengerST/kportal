(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/**
 * Created by Jeremy on 2016/11/22.
 */
"use strict";
var head = function () {
    //时间格式化
    Date.prototype.Format = function (fmt) { //author: Jeremyyy
        var o = {
            "M+": this.getMonth() + 1, //月份
            "d+": this.getDate(), //日
            "h+": this.getHours(), //小时
            "m+": this.getMinutes(), //分
            "s+": this.getSeconds(), //秒
            "q+": Math.floor((this.getMonth() + 3) / 3), //季度
            "S": this.getMilliseconds() //毫秒
        };
        if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + "").substr(4 - RegExp.$1.length));
        for (var k in o)
            if (new RegExp("(" + k + ")").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : (("00" + o[k]).substr(("" + o[k]).length)));
        return fmt;
    };
    //返回顶部
    $(document).on('click', '.back-top', function () {
        $("html,body").animate({scrollTop:0},100);
        return false;
    });
    $(document).on('mouseenter', '.vip-part', function () {
        $(this).children('.vip-select').stop(true);
        $(this).children('.vip-select').slideDown(100);
        return false;
    });
    $(document).on('mouseleave', '.vip-part', function () {
        $(this).children('.vip-select').stop(true);
        $(this).children('.vip-select').slideUp(100);
        return false;
    });
    $(document).on('mouseenter', '.wechat-logo', function () {
        $(this).children('.big-wechat').fadeIn(200);
        return false;
    });
    $(document).on('mouseleave', '.wechat-logo', function () {
        $(this).children('.big-wechat').fadeOut(200);
        return false;
    });
};
module.exports.head = head;
},{}],2:[function(require,module,exports){
/**
 * Created by Jeremy on 2016/11/22.
 */
"use strict";
var listener = (function () {
    var run = function () {
        //头部点击事件
        require('./head').head();
    };
    return {
        run: run
    }
}());
module.exports = listener;
},{"./head":1}],3:[function(require,module,exports){
/**
 * Created by Jeremy on 2016/11/24.
 */
"use strict";
var Data = (function () {
    var login = function (data, callback) {
        var _data = {};
        $.ajax({
            url: '/api/login'
            , type: 'post'
            , data: data
            , dataType: 'json'
            , timeout: 100000
            , success: function (json) {
                if (json && "resCode" in json) {
                    _data = json;
                } else {
                    _data = {};
                }
            }, complete: function () {
                if (callback && callback instanceof Function) {
                    callback(_data);
                }
            }
        });
    };

    return {
        login: login
    }
}());
module.exports.Data = Data;
},{}],4:[function(require,module,exports){
/**
 * Created by Jeremy on 2016/11/22.
 */
"use strict";
require('../general').run();
require('./listener').run();
},{"../general":2,"./listener":5}],5:[function(require,module,exports){
/**
 * Created by Jeremy on 2016/11/22.
 */
"use strict";
var Listener = (function () {

    var Data = require('./data').Data;
    var ndc;
    var listener = function () {
        var swiper = new Swiper('.swiper-container', {
            pagination: '.swiper-pagination',
            paginationClickable: true,
            //nextButton: '.swiper-button-next',
            //prevButton: '.swiper-button-prev',
            //parallax: true,
            autoplay: 3000,//可选选项，自动滑动
            grabCursor : true,
            speed: 600
        });
        $(document).on('click', '#code', function () {
            getCode();
        });
    };
    var getCode = function () {
        var src = '/getImgCode?';
        var getNum = function () {
            var num = '';
            for (var i = 0; i < 4; i++) {
                num = num + parseInt(10 * Math.random());
            }
            return num;
        };
        src += getNum();
        $('#code').attr('src', src);
    };
    var auto_go = function () {
        //激活页面自动登陆
        if ($('.auto-login-active').length > 0) {
            var n = 2;
            setInterval(function () {
                if (n == 0) {
                    location.href = "/login";
                } else {
                    var str = n + '秒后系统会自动跳转，也可点击本处';
                    $('.auto-login-active').html(str);
                    n--;
                }
            }, 1000)
        }
    };
    //获取gt验证码
    var getGt = function () {
        var handler2 = function (captchaObj) {
            $("#submit").click(function (e) {
                $('.wrong-text').html('');
                var tel = $('#tel').val()
                    , pwd = $('#pwd').val();
                if (!tel) {
                    $('.prompt-name').html('请输入登陆账号');
                    return false;
                }else {
                    $('.prompt-name').html('');
                    if (!pwd) {
                        $('.prompt-pwd').html('请输入密码');
                        return false;
                    } else {
                        $('.prompt-pwd').html('');
                        var result = captchaObj.getValidate();
                        if (!result) {
                            $(".prompt-code").html('请完成验证');
                            setTimeout(function () {
                                $(".prompt-code").html('');
                            }, 2000);
                        } else {
                            $('.prompt-name').html('');
                            $('.prompt-pwd').html('');
                            $('.prompt-code').html('');
                            var data = {
                                    Account: tel
                                    , Pwd: pwd
                                    , keepL: $('#auto').prop('checked') ? 1 : 0,
                                    geetest_challenge: result.geetest_challenge,
                                    geetest_validate: result.geetest_validate,
                                    geetest_seccode: result.geetest_seccode
                                }
                                ;
                            Data.login(data, function (json) {
                                if (json && 'resCode' in json && json.resCode == 0) {
                                    if ('Redirect' in json.resBody) {
                                        location.href = json.resBody.Redirect;
                                    } else {
                                        if ('url' in json && json.url) {
                                            location.href = json.url;
                                        } else {
                                            location.href = '/home';
                                        }
                                    }
                                } else {
                                    captchaObj.reset();
                                    $('.wrong-text').html(json.resMsg).removeClass('dp-n');
                                }
                            });
                        }
                    }
                }
                e.preventDefault();
            });

            // 将验证码加到id为captcha的元素里，同时会有三个input的值用于表单提交
            captchaObj.appendTo("#captcha");

            captchaObj.onReady(function () {
                $("#wait").hide();
            });

            // 更多接口参考：http://www.geetest.com/install/sections/idx-client-sdk.html
        };


        $.ajax({
            url: "/login/sendGt3?t=" + (new Date()).getTime(), // 加随机数防止缓存
            type: "get",
            dataType: "json",
            success: function (data) {

                // 调用 initGeetest 初始化参数
                // 参数1：配置参数
                // 参数2：回调，回调的第一个参数验证码对象，之后可以使用它调用相应的接口
                initGeetest({
                    gt: data.gt,
                    challenge: data.challenge,
                    new_captcha: data.new_captcha, // 用于宕机时表示是新验证码的宕机
                    offline: !data.success, // 表示用户后台检测极验服务器是否宕机，一般不需要关注
                    product: "popup", // 产品形式，包括：float，popup
                    width: "100%"

                    // 更多配置参数请参见：http://www.geetest.com/install/sections/idx-client-sdk.html#config
                }, handler2);
            }
        });
    };
    var run = function () {
        listener();
        //getCode();
        auto_go();
        getGt();
    };
    return {
        run: run
    }
}());
module.exports = Listener;
},{"./data":3}]},{},[4])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL252bS92Ni4yLjAvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi4uL2dlbmVyYWwvaGVhZC5qcyIsIi4uL2dlbmVyYWwvaW5kZXguanMiLCJkYXRhLmpzIiwiaW5kZXguanMiLCJsaXN0ZW5lci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzdDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEplcmVteSBvbiAyMDE2LzExLzIyLlxyXG4gKi9cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBoZWFkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy/ml7bpl7TmoLzlvI/ljJZcclxuICAgIERhdGUucHJvdG90eXBlLkZvcm1hdCA9IGZ1bmN0aW9uIChmbXQpIHsgLy9hdXRob3I6IEplcmVteXl5XHJcbiAgICAgICAgdmFyIG8gPSB7XHJcbiAgICAgICAgICAgIFwiTStcIjogdGhpcy5nZXRNb250aCgpICsgMSwgLy/mnIjku71cclxuICAgICAgICAgICAgXCJkK1wiOiB0aGlzLmdldERhdGUoKSwgLy/ml6VcclxuICAgICAgICAgICAgXCJoK1wiOiB0aGlzLmdldEhvdXJzKCksIC8v5bCP5pe2XHJcbiAgICAgICAgICAgIFwibStcIjogdGhpcy5nZXRNaW51dGVzKCksIC8v5YiGXHJcbiAgICAgICAgICAgIFwicytcIjogdGhpcy5nZXRTZWNvbmRzKCksIC8v56eSXHJcbiAgICAgICAgICAgIFwicStcIjogTWF0aC5mbG9vcigodGhpcy5nZXRNb250aCgpICsgMykgLyAzKSwgLy/lraPluqZcclxuICAgICAgICAgICAgXCJTXCI6IHRoaXMuZ2V0TWlsbGlzZWNvbmRzKCkgLy/mr6vnp5JcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmICgvKHkrKS8udGVzdChmbXQpKSBmbXQgPSBmbXQucmVwbGFjZShSZWdFeHAuJDEsICh0aGlzLmdldEZ1bGxZZWFyKCkgKyBcIlwiKS5zdWJzdHIoNCAtIFJlZ0V4cC4kMS5sZW5ndGgpKTtcclxuICAgICAgICBmb3IgKHZhciBrIGluIG8pXHJcbiAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKFwiKFwiICsgayArIFwiKVwiKS50ZXN0KGZtdCkpIGZtdCA9IGZtdC5yZXBsYWNlKFJlZ0V4cC4kMSwgKFJlZ0V4cC4kMS5sZW5ndGggPT0gMSkgPyAob1trXSkgOiAoKFwiMDBcIiArIG9ba10pLnN1YnN0cigoXCJcIiArIG9ba10pLmxlbmd0aCkpKTtcclxuICAgICAgICByZXR1cm4gZm10O1xyXG4gICAgfTtcclxuICAgIC8v6L+U5Zue6aG26YOoXHJcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmJhY2stdG9wJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQoXCJodG1sLGJvZHlcIikuYW5pbWF0ZSh7c2Nyb2xsVG9wOjB9LDEwMCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcbiAgICAkKGRvY3VtZW50KS5vbignbW91c2VlbnRlcicsICcudmlwLXBhcnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5jaGlsZHJlbignLnZpcC1zZWxlY3QnKS5zdG9wKHRydWUpO1xyXG4gICAgICAgICQodGhpcykuY2hpbGRyZW4oJy52aXAtc2VsZWN0Jykuc2xpZGVEb3duKDEwMCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcbiAgICAkKGRvY3VtZW50KS5vbignbW91c2VsZWF2ZScsICcudmlwLXBhcnQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5jaGlsZHJlbignLnZpcC1zZWxlY3QnKS5zdG9wKHRydWUpO1xyXG4gICAgICAgICQodGhpcykuY2hpbGRyZW4oJy52aXAtc2VsZWN0Jykuc2xpZGVVcCgxMDApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0pO1xyXG4gICAgJChkb2N1bWVudCkub24oJ21vdXNlZW50ZXInLCAnLndlY2hhdC1sb2dvJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykuY2hpbGRyZW4oJy5iaWctd2VjaGF0JykuZmFkZUluKDIwMCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcbiAgICAkKGRvY3VtZW50KS5vbignbW91c2VsZWF2ZScsICcud2VjaGF0LWxvZ28nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5jaGlsZHJlbignLmJpZy13ZWNoYXQnKS5mYWRlT3V0KDIwMCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSk7XHJcbn07XHJcbm1vZHVsZS5leHBvcnRzLmhlYWQgPSBoZWFkOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IEplcmVteSBvbiAyMDE2LzExLzIyLlxyXG4gKi9cclxuXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBsaXN0ZW5lciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8v5aS06YOo54K55Ye75LqL5Lu2XHJcbiAgICAgICAgcmVxdWlyZSgnLi9oZWFkJykuaGVhZCgpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcnVuOiBydW5cclxuICAgIH1cclxufSgpKTtcclxubW9kdWxlLmV4cG9ydHMgPSBsaXN0ZW5lcjsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKZXJlbXkgb24gMjAxNi8xMS8yNC5cclxuICovXHJcblwidXNlIHN0cmljdFwiO1xyXG52YXIgRGF0YSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbG9naW4gPSBmdW5jdGlvbiAoZGF0YSwgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgX2RhdGEgPSB7fTtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB1cmw6ICcvYXBpL2xvZ2luJ1xyXG4gICAgICAgICAgICAsIHR5cGU6ICdwb3N0J1xyXG4gICAgICAgICAgICAsIGRhdGE6IGRhdGFcclxuICAgICAgICAgICAgLCBkYXRhVHlwZTogJ2pzb24nXHJcbiAgICAgICAgICAgICwgdGltZW91dDogMTAwMDAwXHJcbiAgICAgICAgICAgICwgc3VjY2VzczogZnVuY3Rpb24gKGpzb24pIHtcclxuICAgICAgICAgICAgICAgIGlmIChqc29uICYmIFwicmVzQ29kZVwiIGluIGpzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBfZGF0YSA9IGpzb247XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF9kYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sgJiYgY2FsbGJhY2sgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKF9kYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGxvZ2luOiBsb2dpblxyXG4gICAgfVxyXG59KCkpO1xyXG5tb2R1bGUuZXhwb3J0cy5EYXRhID0gRGF0YTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKZXJlbXkgb24gMjAxNi8xMS8yMi5cclxuICovXHJcblwidXNlIHN0cmljdFwiO1xyXG5yZXF1aXJlKCcuLi9nZW5lcmFsJykucnVuKCk7XHJcbnJlcXVpcmUoJy4vbGlzdGVuZXInKS5ydW4oKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBKZXJlbXkgb24gMjAxNi8xMS8yMi5cclxuICovXHJcblwidXNlIHN0cmljdFwiO1xyXG52YXIgTGlzdGVuZXIgPSAoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIHZhciBEYXRhID0gcmVxdWlyZSgnLi9kYXRhJykuRGF0YTtcclxuICAgIHZhciBuZGM7XHJcbiAgICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHN3aXBlciA9IG5ldyBTd2lwZXIoJy5zd2lwZXItY29udGFpbmVyJywge1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcclxuICAgICAgICAgICAgcGFnaW5hdGlvbkNsaWNrYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgLy9uZXh0QnV0dG9uOiAnLnN3aXBlci1idXR0b24tbmV4dCcsXHJcbiAgICAgICAgICAgIC8vcHJldkJ1dHRvbjogJy5zd2lwZXItYnV0dG9uLXByZXYnLFxyXG4gICAgICAgICAgICAvL3BhcmFsbGF4OiB0cnVlLFxyXG4gICAgICAgICAgICBhdXRvcGxheTogMzAwMCwvL+WPr+mAiemAiemhue+8jOiHquWKqOa7keWKqFxyXG4gICAgICAgICAgICBncmFiQ3Vyc29yIDogdHJ1ZSxcclxuICAgICAgICAgICAgc3BlZWQ6IDYwMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjY29kZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZ2V0Q29kZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHZhciBnZXRDb2RlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzcmMgPSAnL2dldEltZ0NvZGU/JztcclxuICAgICAgICB2YXIgZ2V0TnVtID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgbnVtID0gJyc7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBudW0gPSBudW0gKyBwYXJzZUludCgxMCAqIE1hdGgucmFuZG9tKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudW07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzcmMgKz0gZ2V0TnVtKCk7XHJcbiAgICAgICAgJCgnI2NvZGUnKS5hdHRyKCdzcmMnLCBzcmMpO1xyXG4gICAgfTtcclxuICAgIHZhciBhdXRvX2dvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8v5r+A5rS76aG16Z2i6Ieq5Yqo55m76ZmGXHJcbiAgICAgICAgaWYgKCQoJy5hdXRvLWxvZ2luLWFjdGl2ZScpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdmFyIG4gPSAyO1xyXG4gICAgICAgICAgICBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobiA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IFwiL2xvZ2luXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHIgPSBuICsgJ+enkuWQjuezu+e7n+S8muiHquWKqOi3s+i9rO+8jOS5n+WPr+eCueWHu+acrOWkhCc7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmF1dG8tbG9naW4tYWN0aXZlJykuaHRtbChzdHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIG4tLTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwMClcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy/ojrflj5ZndOmqjOivgeeggVxyXG4gICAgdmFyIGdldEd0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVyMiA9IGZ1bmN0aW9uIChjYXB0Y2hhT2JqKSB7XHJcbiAgICAgICAgICAgICQoXCIjc3VibWl0XCIpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcud3JvbmctdGV4dCcpLmh0bWwoJycpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbCA9ICQoJyN0ZWwnKS52YWwoKVxyXG4gICAgICAgICAgICAgICAgICAgICwgcHdkID0gJCgnI3B3ZCcpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0ZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCcucHJvbXB0LW5hbWUnKS5odG1sKCfor7fovpPlhaXnmbvpmYbotKblj7cnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLnByb21wdC1uYW1lJykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwd2QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnByb21wdC1wd2QnKS5odG1sKCfor7fovpPlhaXlr4bnoIEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5wcm9tcHQtcHdkJykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBjYXB0Y2hhT2JqLmdldFZhbGlkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiLnByb21wdC1jb2RlXCIpLmh0bWwoJ+ivt+WujOaIkOmqjOivgScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5wcm9tcHQtY29kZVwiKS5odG1sKCcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnByb21wdC1uYW1lJykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcucHJvbXB0LXB3ZCcpLmh0bWwoJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnByb21wdC1jb2RlJykuaHRtbCgnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWNjb3VudDogdGVsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgUHdkOiBwd2RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBrZWVwTDogJCgnI2F1dG8nKS5wcm9wKCdjaGVja2VkJykgPyAxIDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VldGVzdF9jaGFsbGVuZ2U6IHJlc3VsdC5nZWV0ZXN0X2NoYWxsZW5nZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VldGVzdF92YWxpZGF0ZTogcmVzdWx0LmdlZXRlc3RfdmFsaWRhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlZXRlc3Rfc2VjY29kZTogcmVzdWx0LmdlZXRlc3Rfc2VjY29kZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRhLmxvZ2luKGRhdGEsIGZ1bmN0aW9uIChqc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb24gJiYgJ3Jlc0NvZGUnIGluIGpzb24gJiYganNvbi5yZXNDb2RlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCdSZWRpcmVjdCcgaW4ganNvbi5yZXNCb2R5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0ganNvbi5yZXNCb2R5LlJlZGlyZWN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCd1cmwnIGluIGpzb24gJiYganNvbi51cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmID0ganNvbi51cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSAnL2hvbWUnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FwdGNoYU9iai5yZXNldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcud3JvbmctdGV4dCcpLmh0bWwoanNvbi5yZXNNc2cpLnJlbW92ZUNsYXNzKCdkcC1uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8g5bCG6aqM6K+B56CB5Yqg5YiwaWTkuLpjYXB0Y2hh55qE5YWD57Sg6YeM77yM5ZCM5pe25Lya5pyJ5LiJ5LiqaW5wdXTnmoTlgLznlKjkuo7ooajljZXmj5DkuqRcclxuICAgICAgICAgICAgY2FwdGNoYU9iai5hcHBlbmRUbyhcIiNjYXB0Y2hhXCIpO1xyXG5cclxuICAgICAgICAgICAgY2FwdGNoYU9iai5vblJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQoXCIjd2FpdFwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8g5pu05aSa5o6l5Y+j5Y+C6ICD77yaaHR0cDovL3d3dy5nZWV0ZXN0LmNvbS9pbnN0YWxsL3NlY3Rpb25zL2lkeC1jbGllbnQtc2RrLmh0bWxcclxuICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiBcIi9sb2dpbi9zZW5kR3QzP3Q9XCIgKyAobmV3IERhdGUoKSkuZ2V0VGltZSgpLCAvLyDliqDpmo/mnLrmlbDpmLLmraLnvJPlrZhcclxuICAgICAgICAgICAgdHlwZTogXCJnZXRcIixcclxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIOiwg+eUqCBpbml0R2VldGVzdCDliJ3lp4vljJblj4LmlbBcclxuICAgICAgICAgICAgICAgIC8vIOWPguaVsDHvvJrphY3nva7lj4LmlbBcclxuICAgICAgICAgICAgICAgIC8vIOWPguaVsDLvvJrlm57osIPvvIzlm57osIPnmoTnrKzkuIDkuKrlj4LmlbDpqozor4HnoIHlr7nosaHvvIzkuYvlkI7lj6/ku6Xkvb/nlKjlroPosIPnlKjnm7jlupTnmoTmjqXlj6NcclxuICAgICAgICAgICAgICAgIGluaXRHZWV0ZXN0KHtcclxuICAgICAgICAgICAgICAgICAgICBndDogZGF0YS5ndCxcclxuICAgICAgICAgICAgICAgICAgICBjaGFsbGVuZ2U6IGRhdGEuY2hhbGxlbmdlLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld19jYXB0Y2hhOiBkYXRhLm5ld19jYXB0Y2hhLCAvLyDnlKjkuo7lrpXmnLrml7booajnpLrmmK/mlrDpqozor4HnoIHnmoTlrpXmnLpcclxuICAgICAgICAgICAgICAgICAgICBvZmZsaW5lOiAhZGF0YS5zdWNjZXNzLCAvLyDooajnpLrnlKjmiLflkI7lj7Dmo4DmtYvmnoHpqozmnI3liqHlmajmmK/lkKblrpXmnLrvvIzkuIDoiKzkuI3pnIDopoHlhbPms6hcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiBcInBvcHVwXCIsIC8vIOS6p+WTgeW9ouW8j++8jOWMheaLrO+8mmZsb2F077yMcG9wdXBcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCJcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5pu05aSa6YWN572u5Y+C5pWw6K+35Y+C6KeB77yaaHR0cDovL3d3dy5nZWV0ZXN0LmNvbS9pbnN0YWxsL3NlY3Rpb25zL2lkeC1jbGllbnQtc2RrLmh0bWwjY29uZmlnXHJcbiAgICAgICAgICAgICAgICB9LCBoYW5kbGVyMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICB2YXIgcnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGxpc3RlbmVyKCk7XHJcbiAgICAgICAgLy9nZXRDb2RlKCk7XHJcbiAgICAgICAgYXV0b19nbygpO1xyXG4gICAgICAgIGdldEd0KCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBydW46IHJ1blxyXG4gICAgfVxyXG59KCkpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IExpc3RlbmVyOyJdfQ==
